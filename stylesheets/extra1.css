/* 背景：浅/深随主题切换 */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image: url("../static/bg-light.png");
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  z-index: 0;
  pointer-events: none;
  opacity: 1;
}
html[data-md-color-scheme="slate"] body::before,
body[data-md-color-scheme="slate"]::before,
[data-md-color-scheme="slate"] body::before {
  background-image: url("../static/bg-dark.png") !important;
}

/* 内容置于背景之上） */
.md-container, .md-main, .md-content, .md-sidebar, .md-header { position: relative; z-index: 1; }

/* —— 非首页用主题默认变量 —— */
html:not(:has(#home-flag)) .md-header,
html:not(:has(#home-flag)) .md-main .md-content,
html:not(:has(#home-flag)) .md-content__inner,
html:not(:has(#home-flag)) .md-sidebar--primary,
html:not(:has(#home-flag)) .md-sidebar--secondary {
  background-color: var(--md-default-bg-color) !important;
}

/* —— 首页正文 / 左侧 / 右侧透明；顶部保持实心 —— */
html:has(#home-flag) .md-main .md-content,
html:has(#home-flag) .md-content__inner,
html:has(#home-flag) .md-sidebar--primary,
html:has(#home-flag) .md-sidebar--secondary {
  background-color: transparent !important;
  box-shadow: none !important;
}

/* 首页代码块稍微垫底 */
html:has(#home-flag) .md-typeset pre,
html:has(#home-flag) .md-typeset code { background: rgba(0,0,0,0.06); }
html[data-md-color-scheme="slate"]:has(#home-flag) .md-typeset pre,
html[data-md-color-scheme="slate"]:has(#home-flag) .md-typeset code { background: rgba(255,255,255,0.06); }
